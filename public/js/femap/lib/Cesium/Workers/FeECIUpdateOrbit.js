/**
 * Cesium - https://github.com/AnalyticalGraphicsInc/cesium
 *
 * Copyright 2011-2017 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md for full licensing details.
 */
/**
  @license
  when.js - https://github.com/cujojs/when

  MIT License (c) copyright B Cavalier & J Hann

 * A lightweight CommonJS Promises/A and when() implementation
 * when is part of the cujo.js family of libraries (http://cujojs.com/)
 *
 * Licensed under the MIT License at:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * @version 1.7.1
 */

!function(){!function(t){"use strict";t("ThirdParty/when",[],function(){function t(t,o,n,r){return e(t).then(o,n,r)}function e(t){var e,o;return t instanceof n?e=t:i(t)?(o=s(),t.then(function(t){o.resolve(t)},function(t){o.reject(t)},function(t){o.progress(t)}),e=o.promise):e=r(t),e}function o(e){return t(e,a)}function n(t){this.then=t}function r(t){return new n(function(o){try{return e(o?o(t):t)}catch(t){return a(t)}})}function a(t){return new n(function(o,n){try{return n?e(n(t)):a(t)}catch(t){return a(t)}})}function s(){function t(t,e,o){return f(t,e,o)}function o(t){return p(t)}function r(t){return p(a(t))}function i(t){return l(t)}var c,h,u,d,f,l,p;return h=new n(t),c={then:t,resolve:o,reject:r,progress:i,promise:h,resolver:{resolve:o,reject:r,progress:i}},u=[],d=[],f=function(t,e,o){var n,r;return n=s(),r="function"==typeof o?function(t){try{n.progress(o(t))}catch(t){n.progress(t)}}:function(t){n.progress(t)},u.push(function(o){o.then(t,e).then(n.resolve,n.reject,r)}),d.push(r),n.promise},l=function(t){return M(d,t),t},p=function(t){return t=e(t),f=t.then,p=e,l=x,M(u,t),d=u=b,t},c}function i(t){return t&&"function"==typeof t.then}function c(e,o,n,r,a){return g(2,arguments),t(e,function(e){function i(t){M(t)}function c(t){p(t)}var h,u,d,f,l,p,M,g,m,v;if(m=e.length>>>0,h=Math.max(0,Math.min(o,m)),d=[],u=m-h+1,f=[],l=s(),h)for(g=l.progress,M=function(t){f.push(t),--u||(p=M=x,l.reject(f))},p=function(t){d.push(t),--h||(p=M=x,l.resolve(d))},v=0;v<m;++v)v in e&&t(e[v],c,i,g);else l.resolve(d);return l.then(n,r,a)})}function h(t,e,o,n){function r(t){return e?e(t[0]):t[0]}return c(t,1,r,o,n)}function u(t,e,o,n){return g(1,arguments),f(t,m).then(e,o,n)}function d(){return f(arguments,m)}function f(e,o){return t(e,function(e){var n,r,a,i,c,h;if(a=r=e.length>>>0,n=[],h=s(),a)for(i=function(e,r){t(e,o).then(function(t){n[r]=t,--a||h.resolve(n)},h.reject)},c=0;c<r;c++)c in e?i(e[c],c):--a;else h.resolve(n);return h.promise})}function l(e,o){var n=y.call(arguments,1);return t(e,function(e){var r;return r=e.length,n[0]=function(e,n,a){return t(e,function(e){return t(n,function(t){return o(e,t,a,r)})})},v.apply(e,n)})}function p(e,o,n){var r=arguments.length>2;return t(e,function(t){return t=r?n:t,o.resolve(t),t},function(t){return o.reject(t),a(t)},o.progress)}function M(t,e){for(var o,n=0;o=t[n++];)o(e)}function g(t,e){for(var o,n=e.length;n>t;)if(null!=(o=e[--n])&&"function"!=typeof o)throw new Error("arg "+n+" must be a function")}function x(){}function m(t){return t}var v,y,b;return t.defer=s,t.resolve=e,t.reject=o,t.join=d,t.all=u,t.map=f,t.reduce=l,t.any=h,t.some=c,t.chain=p,t.isPromise=i,n.prototype={always:function(t,e){return this.then(t,t,e)},otherwise:function(t){return this.then(b,t)},yield:function(t){return this.then(function(){return t})},spread:function(t){return this.then(function(e){return u(e,function(e){return t.apply(b,e)})})}},y=[].slice,v=[].reduce||function(t){var e,o,n,r,a;if(a=0,e=Object(this),r=e.length>>>0,o=arguments,o.length<=1)for(;;){if(a in e){n=e[a++];break}if(++a>=r)throw new TypeError}else n=o[1];for(;a<r;++a)a in e&&(n=t(n,e[a],a,e));return n},t})}("function"==typeof define&&define.amd?define:function(t){"object"==typeof exports?module.exports=t():this.when=t()}),define("Core/defined",[],function(){"use strict";function t(t){return void 0!==t&&null!==t}return t}),define("Core/freezeObject",["./defined"],function(t){"use strict";var e=Object.freeze;return t(e)||(e=function(t){return t}),e}),define("Core/defaultValue",["./freezeObject"],function(t){"use strict";function e(t,e){return void 0!==t&&null!==t?t:e}return e.EMPTY_OBJECT=t({}),e}),define("Core/formatError",["./defined"],function(t){"use strict";function e(e){var o,n=e.name,r=e.message;o=t(n)&&t(r)?n+": "+r:e.toString();var a=e.stack;return t(a)&&(o+="\n"+a),o}return e}),define("Workers/createTaskProcessorWorker",["../ThirdParty/when","../Core/defaultValue","../Core/defined","../Core/formatError"],function(t,e,o,n){"use strict";function r(e,o,n){try{return e(o,n)}catch(e){return t.reject(e)}}function a(a){var s;return function(i){var c=i.data,h=[],u={id:c.id,result:void 0,error:void 0};return t(r(a,c.parameters,h)).then(function(t){u.result=t}).otherwise(function(t){t instanceof Error?u.error={name:t.name,message:t.message,stack:t.stack}:u.error=t}).always(function(){o(s)||(s=e(self.webkitPostMessage,self.postMessage)),c.canTransferArrayBuffer||(h.length=0);try{s(u,h)}catch(t){u.result=void 0,u.error="postMessage failed with error: "+n(t)+"\n  with responseMessage: "+JSON.stringify(u),s(u)}})}}return a}),define("Workers/FeECIUpdateOrbit",["./createTaskProcessorWorker"],function(t){"use strict";function e(t){var e=t,n=[],s=o(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());s+=1.15741e-8*e.getUTCMilliseconds();for(var i=(r.gstime_from_jday(s),0);i<a.length;i++){var c,h,u,d=1440*(s-a[i].extra.jdsatepoch),f=r.sgp4(a[i].extra,d);try{c=1e3*f.position.x,h=1e3*f.position.y,u=1e3*f.position.z}catch(t){c=0,h=0,u=0,0,0,0,0}var l,p={geoPosition:{x:c,y:h,z:u},sateObjArrIndex:a[i].sateObjArrIndex};if(a[i].requestOrbit){l=new Array(768);var M=t||Date.now(),g=o(M.getUTCFullYear(),M.getUTCMonth()+1,M.getUTCDate(),M.getUTCHours(),M.getUTCMinutes(),M.getUTCSeconds());g+=1.15741e-8*M.getUTCMilliseconds();for(var e=1440*(g-a[i].extra.jdsatepoch),x=2*Math.PI/a[i].extra.no,m=x/255,v=0;v<256;v++){var y=e+v*m,b=r.sgp4(a[i].extra,y).position;0==b.x&&0==b.y&&0==b.z||(l[3*v]=1e3*b.x,l[3*v+1]=1e3*b.y,l[3*v+2]=1e3*b.z)}p.satelinePosArr=l}p.nextPosition={x:p.satelinePosArr[3],y:p.satelinePosArr[4],z:p.satelinePosArr[5]},n.push(p)}return{satelineInfoArr:n}}function o(t,e,o,n,r,a){return 367*t-Math.floor(7*(t+Math.floor((e+9)/12))*.25)+Math.floor(275*e/9)+o+1721013.5+((a/60+r)/60+n)/24}function n(t,o){for(var n=t.data.realTime?t.data.realTime:Date.now(),s=t.data.satelineInfoArr,i=s.length,c=0;c<i;c++)if(!s[c].extra){var h=r.twoline2satrec(s[c].tle1,s[c].tle2);s[c].extra=h,a=s}return e(n)}var r=function(){function t(t,e){var o,n,r,a,c,h,u,d,f,l,p,M,g,x,m,v,y,b=e.init,z=e.ep,w=e.inclp,_=e.nodep,j=e.argpp,T=e.mp,C=e.opsmode;u=t.e3;var q=t.ee2;n=t.peo,o=t.pgho,r=t.pho,a=t.pinco;var P=t.plo;M=t.se2;var U=t.se3;g=t.sgh2;var F=t.sgh3,I=t.sgh4;x=t.sh2;var k=t.sh3;v=t.si2;var E=t.si3;y=t.sl2;var A=t.sl3,O=t.sl4,D=t.t;d=t.xgh2;var S=t.xgh3,W=t.xgh4;f=t.xh2;var Y=t.xh3;l=t.xi2;var B=t.xi3;p=t.xl2;var H=t.xl3,J=t.xl4,V=t.zmol;return h=t.zmos,c=h+119459e-10*D,"y"===b&&(c=h),h=c+.0335*Math.sin(c),m=Math.sin(h),c=.5*m*m-.25,h=-.5*m*Math.cos(h),M=M*c+U*h,v=v*c+E*h,y=y*c+A*h+O*m,g=g*c+F*h+I*m,x=x*c+k*h,c=V+.00015835218*D,"y"===b&&(c=V),h=c+.1098*Math.sin(c),m=Math.sin(h),c=.5*m*m-.25,h=-.5*m*Math.cos(h),u=M+(q*c+u*h),l=v+(l*c+B*h),p=y+(p*c+H*h+J*m),d=g+(d*c+S*h+W*m),f=x+(f*c+Y*h),"n"===b&&(l-=a,p-=P,d-=o,f-=r,w+=l,z+=u-n,r=Math.sin(w),n=Math.cos(w),.2<=w?(f/=r,j+=d-n*f,_+=f,T+=p):(a=Math.sin(_),o=Math.cos(_),b=r*a+(f*o+l*n*a),o=r*o+(-f*a+l*n*o),_%=i,0>_&&"a"===C&&(_+=i),r=p+d-l*_*r,j=T+j+n*_+r,r=_,_=Math.atan2(b,o),0>_&&"a"===C&&(_+=i),Math.abs(r-_)>s&&(_=_<r?_+i:_-i),T+=p,j=j-T-n*_)),{ep:z,inclp:w,nodep:_,argpp:j,mp:T}}function e(t){return t=(t-2451545)/36525,t=(-62e-7*t*t*t+.093104*t*t+3164400184.812866*t+67310.54841)*c/240%i,0>t&&(t+=i),t}function o(t,e,o,n,r,a){return 367*t-Math.floor(1.75*(t+Math.floor((e+9)/12)))+Math.floor(275*e/9)+o+1721013.5+((a/60+r)/60+n)/24}function n(e,o){var n,r,a,c,u,f,l,p,M,g,x,m,v,y,b,z,w,_,j,T,C,q,P,U,F,I,k,E,A,O,D,S,W,Y,B,H,J,V,N,G,K,L,Q,R,X,Z,$,tt,et,ot,nt,rt,at,st,it,ct,ht,ut,dt,ft,lt,pt,Mt,gt,xt,mt,vt,yt,bt,zt,wt,_t,jt,Tt,Ct,qt=0,Pt=6378.137*h/60;e.t=o,e.error=0,zt=e.mo+e.mdot*e.t;var Ut=e.argpo+e.argpdot*e.t;if(jt=e.nodeo+e.nodedot*e.t,Y=Ut,Mt=zt,R=e.t*e.t,xt=jt+e.nodecf*R,rt=1-e.cc1*e.t,at=e.bstar*e.cc4*e.t,st=e.t2cof*R,1!==e.isimp){A=e.omgcof*e.t;var Ft=1+e.eta*Math.cos(zt);E=e.xmcof*(Ft*Ft*Ft-e.delmo),et=A+E,Mt=zt+et,Y=Ut-et,X=R*e.t,Z=X*e.t,rt=rt-e.d2*R-e.d3*X-e.d4*Z,at+=e.bstar*e.cc5*(Math.sin(Mt)-e.sinmao),st=st+e.t3cof*X+Z*(e.t4cof+e.t*e.t5cof)}gt=e.no;var It=e.ecco;if(pt=e.inclo,"d"===e.method){$=e.t;var kt,Et,At,Ot,Dt,St,Wt,Yt,Bt,Ht,Jt=e.irez,Vt=e.d2201,Nt=e.d2211,Gt=e.d3210,Kt=e.d3222,Lt=e.d4410,Qt=e.d4422,Rt=e.d5220,Xt=e.d5232,Zt=e.d5421,$t=e.d5433,te=e.dedt,ee=e.del1,oe=e.del2,ne=e.del3,re=e.didt,ae=e.dmdt,se=e.dnodt,ie=e.domdt,ce=e.argpo,he=e.argpdot,ue=e.t,de=e.xfact,fe=e.xlamo,le=e.no,pe=e.atime,Me=It,ge=Y,xe=pt,me=e.xli,ve=Mt,ye=e.xni,be=xt,ze=gt,we=0;if(At=(e.gsto+.0043752690880113*$)%i,Me+=te*ue,xe+=re*ue,ge+=ie*ue,be+=se*ue,ve+=ae*ue,Et=0,0!==Jt){(0===pe||0>=ue*pe||Math.abs(ue)<Math.abs(pe))&&(pe=0,ye=le,me=fe),kt=0<ue?720:-720;for(var _e=381;381===_e;)2!==Jt?(Bt=ee*Math.sin(me-.13130908)+oe*Math.sin(2*(me-2.8843198))+ne*Math.sin(3*(me-.37448087)),Wt=ye+de,Yt=ee*Math.cos(me-.13130908)+2*oe*Math.cos(2*(me-2.8843198))+3*ne*Math.cos(3*(me-.37448087))):(Ht=ce+he*pe,Dt=Ht+Ht,Ot=me+me,Bt=Vt*Math.sin(Dt+me-5.7686396)+Nt*Math.sin(me-5.7686396)+Gt*Math.sin(Ht+me-.95240898)+Kt*Math.sin(-Ht+me-.95240898)+Lt*Math.sin(Dt+Ot-1.8014998)+Qt*Math.sin(Ot-1.8014998)+Rt*Math.sin(Ht+me-1.050833)+Xt*Math.sin(-Ht+me-1.050833)+Zt*Math.sin(Ht+Ot-4.4108898)+$t*Math.sin(-Ht+Ot-4.4108898),Wt=ye+de,Yt=Vt*Math.cos(Dt+me-5.7686396)+Nt*Math.cos(me-5.7686396)+Gt*Math.cos(Ht+me-.95240898)+Kt*Math.cos(-Ht+me-.95240898)+Rt*Math.cos(Ht+me-1.050833)+Xt*Math.cos(-Ht+me-1.050833)+2*(Lt*Math.cos(Dt+Ot-1.8014998)+Qt*Math.cos(Ot-1.8014998)+Zt*Math.cos(Ht+Ot-4.4108898)+$t*Math.cos(-Ht+Ot-4.4108898))),Yt*=Wt,720<=Math.abs(ue-pe)?_e=381:(Et=ue-pe,_e=0),381===_e&&(me=me+Wt*kt+259200*Bt,ye=ye+Bt*kt+259200*Yt,pe+=kt);ze=ye+Bt*Et+Yt*Et*Et*.5,St=me+Wt*Et+Bt*Et*Et*.5,ve=1!==Jt?St-2*be+2*At:St-be-ge+At,we=ze-le,ze=le+we}n=Me,r=ge,a=xe,c=ve,u=be,f=ze,It=n,Y=r,pt=a,Mt=c,xt=u,gt=f}if(0>=gt)return e.error=2,[!1,!1];if(l=Math.pow(h/gt,d)*rt*rt,gt=h/Math.pow(l,1.5),1<=(It-=at)||-.001>It)return e.error=1,[!1,!1];1e-6>It&&(It=1e-6),Mt+=e.no*st,yt=Mt+Y+xt,xt%=i,Y%=i,yt%=i,Mt=(yt-Y-xt)%i,m=Math.sin(pt),x=Math.cos(pt);var je=It;if(vt=pt,B=Y,Ct=xt,bt=Mt,q=m,C=x,"d"===e.method){var Te=t(e,{inclo:e.inclo,init:"n",ep:je,inclp:vt,nodep:Ct,argpp:B,mp:bt,opsmode:e.operationmod}),je=Te.ep;if(vt=Te.inclp,Ct=Te.nodep,B=Te.argpp,bt=Te.mp,0>vt&&(vt=-vt,Ct+=s,B-=s),0>je||1<je)return e.error=3,[!1,!1]}"d"===e.method&&(q=Math.sin(vt),C=Math.cos(vt),e.aycof=.0011694452793710002*q,1.5e-12<Math.abs(C+1)?e.xlcof=.0005847226396855001*q*(3+5*C)/(1+C):e.xlcof=.0005847226396855001*q*(3+5*C)/1.5e-12),p=je*Math.cos(B),et=1/(l*(1-je*je)),M=je*Math.sin(B)+et*e.aycof,S=it=(bt+B+Ct+et*e.xlcof*p-Ct)%i,tt=9999.9;for(var Ce=1;1e-12<=Math.abs(tt)&&10>=Ce;)_=Math.sin(S),w=Math.cos(S),tt=1-w*p-_*M,tt=(it-M*w+p*_-S)/tt,.95<=Math.abs(tt)&&(tt=0<tt?.95:-.95),S+=tt,Ce+=1;if(O=p*w+M*_,W=p*_-M*w,D=p*p+M*M,0>(H=l*(1-D)))return e.error=4,[!1,!1];G=l*(1-O),N=Math.sqrt(l)*W/G,L=Math.sqrt(H)/G,g=Math.sqrt(1-D),et=W/(1+g),k=l/G*(_-M-p*et),I=l/G*(w-p+M*et),Q=Math.atan2(k,I),z=(I+I)*k,b=1-2*k*k,et=1/H,ot=.000541314994525*et,nt=ot*et,"d"===e.method&&(P=C*C,e.con41=3*P-1,e.x1mth2=1-P,e.x7thm1=7*P-1),qt=G*(1-1.5*nt*g*e.con41)+.5*ot*e.x1mth2*b,Q-=.25*nt*e.x7thm1*z,Tt=Ct+1.5*nt*C*z,mt=vt+1.5*nt*C*q*b;var qe=N-gt*ot*e.x1mth2*z/h;return K=L+gt*ot*(e.x1mth2*b+1.5*e.con41)/h,F=Math.sin(Q),U=Math.cos(Q),y=Math.sin(Tt),v=Math.cos(Tt),T=Math.sin(mt),j=Math.cos(mt),wt=-y*j,_t=v*j,ct=wt*F+v*U,ht=_t*F+y*U,ut=T*F,dt=wt*U-v*F,ft=_t*U-y*F,lt=T*U,J={x:0,y:0,z:0},J.x=qt*ct*6378.137,J.y=qt*ht*6378.137,J.z=qt*ut*6378.137,V={x:0,y:0,z:0},V.x=(qe*ct+K*dt)*Pt,V.y=(qe*ht+K*ft)*Pt,V.z=(qe*ut+K*lt)*Pt,1>qt?(e.error=6,{position:!1,velocity:!1}):{position:J,velocity:V}}function r(t){var e=t.longitude,o=t.latitude,n=t.height,r=6378.137/Math.sqrt(1-.006694380004260718*Math.sin(o)*Math.sin(o));return t=(r+n)*Math.cos(o)*Math.cos(e),e=(r+n)*Math.cos(o)*Math.sin(e),o=(.9933056199957393*r+n)*Math.sin(o),{x:t,y:e,z:o}}var a={version:"1.2"},s=Math.PI,i=2*s,c=s/180,h=60/Math.sqrt(650944.0944816993),u=1/h,d=2/3;return a.gstime_from_jday=function(t){return e(t)},a.gstime_from_date=function(t,n,r,a,s,i){return t=o(t,n,r,a,s,i),e(t)},a.twoline2satrec=function(r,a){var f,l,p,M,g,x,m,v,y,b,z,w,_,j,T,C,q,P,U,F,I,k,E,A,O,D,S,W,Y,B,H,J,V,N,G,K,L,Q,R,X,Z,$,tt,et,ot,nt,rt,at,st,it,ct,ht,ut,dt,ft,lt,pt,Mt,gt,xt,mt,vt,yt,bt,zt,wt,_t,jt,Tt,Ct,qt,Pt,Ut,Ft,It,kt,Et,At,Ot,Dt,St,Wt,Yt,Bt=1440/(2*s),Ht=0,Jt={error:0};parseInt(r.substring(0,1),10),Jt.satnum=r.substring(2,7),r.substring(7,8),r.substring(9,11),Jt.epochyr=parseInt(r.substring(18,20),10),Jt.epochdays=parseFloat(r.substring(20,32)),Jt.ndot=parseFloat(r.substring(33,43)),Jt.nddot=parseFloat("."+parseInt(r.substring(44,50),10)+"E"+r.substring(50,52)),Jt.bstar=parseFloat(r.substring(53,54)+"."+parseInt(r.substring(54,59),10)+"E"+r.substring(59,61)),parseInt(r.substring(62,63),10),parseInt(r.substring(64,68),10),Jt.inclo=parseFloat(a.substring(8,16)),Jt.nodeo=parseFloat(a.substring(17,25)),Jt.ecco=parseFloat("."+a.substring(26,33)),Jt.argpo=parseFloat(a.substring(34,42)),Jt.mo=parseFloat(a.substring(43,51)),Jt.no=parseFloat(a.substring(52,63)),parseFloat(a.substring(63,68)),Jt.no/=Bt,Jt.a=Math.pow(Jt.no*u,-2/3),Jt.ndot/=1440*Bt,Jt.nddot/=2073600*Bt,Jt.inclo*=c,Jt.nodeo*=c,Jt.argpo*=c,Jt.mo*=c,Jt.alta=Jt.a*(1+Jt.ecco)-1,Jt.altp=Jt.a*(1-Jt.ecco)-1;var Ht=57>Jt.epochyr?Jt.epochyr+2e3:Jt.epochyr+1900,Vt=Jt.epochdays,Nt=[31,28,31,30,31,30,31,31,30,31,30,31],Gt=Math.floor(Vt);0==Ht%4&&(Nt=[31,29,31,30,31,30,31,31,30,31,30,31]);for(var Kt=1,Lt=0;Gt>Lt+Nt[Kt-1]&&12>Kt;)Lt+=Nt[Kt-1],Kt+=1;var Qt=Kt,Rt=Gt-Lt,Xt=24*(Vt-Gt),Zt=Math.floor(Xt),Xt=60*(Xt-Zt),$t=Math.floor(Xt);Jt.jdsatepoch=o(Ht,Qt,Rt,Zt,$t,60*(Xt-$t));var te,ee,oe,ne,re,ae,se,ie,ce,he,ue,de,fe,le,pe,Me,ge,xe,me,ve,ye,be=Jt.jdsatepoch-2433281.5,ze=Jt.bstar,we=Jt.ecco,_e=Jt.argpo,je=Jt.inclo,Te=Jt.mo,Ce=Jt.no,qe=Jt.nodeo;Jt.isimp=0,Jt.method="n",Jt.aycof=0,Jt.con41=0,Jt.cc1=0,Jt.cc4=0,Jt.cc5=0,Jt.d2=0,Jt.d3=0,Jt.d4=0,Jt.delmo=0,Jt.eta=0,Jt.argpdot=0,Jt.omgcof=0,Jt.sinmao=0,Jt.t=0,Jt.t2cof=0,Jt.t3cof=0,Jt.t4cof=0,Jt.t5cof=0,Jt.x1mth2=0,Jt.x7thm1=0,Jt.mdot=0,Jt.nodedot=0,Jt.xlcof=0,Jt.xmcof=0,Jt.nodecf=0,Jt.irez=0,Jt.d2201=0,Jt.d2211=0,Jt.d3210=0,Jt.d3222=0,Jt.d4410=0,Jt.d4422=0,Jt.d5220=0,Jt.d5232=0,Jt.d5421=0,Jt.d5433=0,Jt.dedt=0,Jt.del1=0,Jt.del2=0,Jt.del3=0,Jt.didt=0,Jt.dmdt=0,Jt.dnodt=0,Jt.domdt=0,Jt.e3=0,Jt.ee2=0,Jt.peo=0,Jt.pgho=0,Jt.pho=0,Jt.pinco=0,Jt.plo=0,Jt.se2=0,Jt.se3=0,Jt.sgh2=0,Jt.sgh3=0,Jt.sgh4=0,Jt.sh2=0,Jt.sh3=0,Jt.si2=0,Jt.si3=0,Jt.sl2=0,Jt.sl3=0,Jt.sl4=0,Jt.gsto=0,Jt.xfact=0,Jt.xgh2=0,Jt.xgh3=0,Jt.xgh4=0,Jt.xh2=0,Jt.xh3=0,Jt.xi2=0,Jt.xi3=0,Jt.xl2=0,Jt.xl3=0,Jt.xl4=0,Jt.xlamo=0,Jt.zmol=0,Jt.zmos=0,Jt.atime=0,Jt.xli=0,Jt.xni=0,Jt.bstar=ze,Jt.ecco=we,Jt.argpo=_e,Jt.inclo=je,Jt.mo=Te,Jt.no=Ce,Jt.nodeo=qe,Jt.operationmode="i";Jt.init="y",Jt.t=0;var Pe,Ue,Fe,Ie,ke,Ee=Jt.ecco,Ae=Jt.inclo,Oe=Jt.no,De=Jt.operationmode,Se=Ee*Ee,We=1-Se,Ye=Math.sqrt(We),Be=Math.cos(Ae),He=Be*Be;Pe=Math.pow(h/Oe,d),Ue=.0008119724917875*(3*He-1)/(Ye*We);var Je=Ue/(Pe*Pe);Fe=Pe*(1-Je*Je-Je*(1/3+134*Je*Je/81));var Je=Ue/(Fe*Fe),Oe=Oe/(1+Je),Ve=Math.pow(h/Oe,d),Ne=Math.sin(Ae);Ie=Ve*We;var Ge=1-5*He,Ke=-Ge-He-He,Le=Ie*Ie,Qe=Ve*(1-Ee);if("a"===De){var Re=be-7305,Xe=Math.floor(Re+1e-8);ke=(1.7321343856509375+.017202791694070362*Xe+(.017202791694070362+i)*(Re-Xe)+Re*Re*5.075514194322695e-15)%i,0>ke&&(ke+=i)}else ke=e(be+2433281.5);if(Wt=Oe,Yt=ke,Jt.no=Wt,Jt.con41=Ke,Jt.gsto=Yt,Jt.error=0,0<=We||0<=Jt.no){if(Jt.isimp=0,Qe<220/6378.137+1&&(Jt.isimp=1),le=78/6378.137+1,fe=1.8802768006108976e-9,156>(he=6378.137*(Qe-1))){le=he-78,98>he&&(le=20);var Ze=(120-le)/6378.137;fe=Ze*Ze*Ze*Ze,le=le/6378.137+1}ue=1/Le,me=1/(Ve-le),Jt.eta=Ve*Jt.ecco*me,ie=Jt.eta*Jt.eta,se=Jt.ecco*Jt.eta,de=Math.abs(1-ie),ne=fe*Math.pow(me,4),re=ne/Math.pow(de,3.5),ee=re*Jt.no*(Ve*(1+1.5*ie+se*(4+ie))+.00040598624589375*me/de*Jt.con41*(8+3*ie*(8+ie))),Jt.cc1=Jt.bstar*ee,oe=0,1e-4<Jt.ecco&&(oe=-2*ne*me*-.0023388905587420003*Jt.no*Ne/Jt.ecco),Jt.x1mth2=1-He,Jt.cc4=2*Jt.no*re*Ve*We*(Jt.eta*(2+.5*ie)+Jt.ecco*(.5+2*ie)-.00108262998905*me/(Ve*de)*(-3*Jt.con41*(1-2*se+ie*(1.5-.5*se))+.75*Jt.x1mth2*(2*ie-se*(1+ie))*Math.cos(2*Jt.argpo))),Jt.cc5=2*re*Ve*We*(1+2.75*(ie+se)+se*ie),ae=He*He,Me=.001623944983575*ue*Jt.no,ge=.000541314994525*Me*ue,xe=7.551504421875001e-7*ue*ue*Jt.no,Jt.mdot=Jt.no+.5*Me*Ye*Jt.con41+.0625*ge*Ye*(13-78*He+137*ae),Jt.argpdot=-.5*Me*Ge+.0625*ge*(7-114*He+395*ae)+xe*(3-36*He+49*ae),ye=-Me*Be,Jt.nodedot=ye+(.5*ge*(4-19*He)+2*xe*(3-7*He))*Be,ve=Jt.argpdot+Jt.nodedot,Jt.omgcof=Jt.bstar*oe*Math.cos(Jt.argpo),Jt.xmcof=0,1e-4<Jt.ecco&&(Jt.xmcof=-2/3*ne*Jt.bstar/se),Jt.nodecf=3.5*We*ye*Jt.cc1,Jt.t2cof=1.5*Jt.cc1,1.5e-12<Math.abs(Be+1)?Jt.xlcof=.0005847226396855001*Ne*(3+5*Be)/(1+Be):Jt.xlcof=.0005847226396855001*Ne*(3+5*Be)/1.5e-12,Jt.aycof=.0011694452793710002*Ne;var $e=1+Jt.eta*Math.cos(Jt.mo);if(Jt.delmo=$e*$e*$e,Jt.sinmao=Math.sin(Jt.mo),Jt.x7thm1=7*He-1,225<=2*s/Jt.no){Jt.method="d",Jt.isimp=1,ce=Jt.inclo;var to,eo,oo,no,ro,ao,so,io,co,ho,uo,fo,lo,po,Mo,go,xo,mo,vo,yo,bo,zo,wo,_o,jo,To,Co,qo,Po,Uo,Fo,Io,ko,Eo,Ao,Oo,Do,So,Wo,Yo,Bo,Ho,Jo,Vo,No,Go,Ko,Lo,Qo,Ro,Xo,Zo,$o,tn,en,on,nn,rn,an,sn,cn,hn,un,dn,fn,ln,pn,Mn,gn,xn,mn,vn,yn,bn,zn,wn=Jt.argpo,_n=Jt.inclo,jn=Jt.nodeo,Tn=Jt.e3,Cn=Jt.ee2,qn=Jt.peo,Pn=Jt.pgho,Un=Jt.pho,Fn=Jt.pinco,In=Jt.plo,kn=Jt.se2,En=Jt.se3,An=Jt.sgh2,On=Jt.sgh3,Dn=Jt.sgh4,Sn=Jt.sh2,Wn=Jt.sh3,Yn=Jt.si2,Bn=Jt.si3,Hn=Jt.sl2,Jn=Jt.sl3,Vn=Jt.sl4,Nn=Jt.xgh2,Gn=Jt.xgh3,Kn=Jt.xgh4,Ln=Jt.xh2,Qn=Jt.xh3,Rn=Jt.xi2,Xn=Jt.xi3,Zn=Jt.xl2,$n=Jt.xl3,tr=Jt.xl4,er=Jt.zmol,or=Jt.zmos,nr=Jt.no,rr=Jt.ecco,ar=Math.sin(jn),sr=Math.cos(jn),ir=Math.sin(wn),cr=Math.cos(wn),hr=Math.sin(_n),ur=Math.cos(_n),dr=rr*rr;uo=1-dr;var fr=Math.sqrt(uo),Un=Pn=In=Fn=qn=0,lr=be+18261.5+0;wo=(4.523602-.00092422029*lr)%i,po=Math.sin(wo),lo=Math.cos(wo),Ao=.91375164-.03568096*lo,Oo=Math.sqrt(1-Ao*Ao),Io=.089683511*po/Oo,Fo=Math.sqrt(1-Io*Io);var pr=5.8351514+.001944368*lr;Do=.39785416*po/Oo,Do=Math.atan2(Do,Fo*lo+.91744867*Io*po),Do=pr+Do-wo,Co=Math.cos(Do),qo=Math.sin(Do),jo=.1945905,To=-.98088458,ko=.91744867,Eo=.39785416,Po=sr,Uo=ar,fo=29864797e-13,_o=1/nr;for(var Mr=0;2>Mr;)Mr+=1,to=jo*Po+To*ko*Uo,oo=-To*Po+jo*ko*Uo,so=-jo*Uo+To*ko*Po,io=To*Eo,co=To*Uo+jo*ko*Po,ho=jo*Eo,eo=ur*so+hr*io,no=ur*co+hr*ho,ro=-hr*so+ur*io,ao=-hr*co+ur*ho,Mo=to*cr+eo*ir,go=oo*cr+no*ir,xo=-to*ir+eo*cr,mo=-oo*ir+no*cr,vo=ro*ir,yo=ao*ir,bo=ro*cr,zo=ao*cr,yn=12*Mo*Mo-3*xo*xo,bn=24*Mo*go-6*xo*mo,zn=12*go*go-3*mo*mo,dn=3*(to*to+eo*eo)+yn*dr,fn=6*(to*oo+eo*no)+bn*dr,ln=3*(oo*oo+no*no)+zn*dr,pn=-6*to*ro+dr*(-24*Mo*bo-6*xo*vo),Mn=-6*(to*ao+oo*ro)+dr*(-24*(go*bo+Mo*zo)+-6*(xo*yo+mo*vo)),gn=-6*oo*ao+dr*(-24*go*zo-6*mo*yo),xn=6*eo*ro+dr*(24*Mo*vo-6*xo*bo),mn=6*(no*ro+eo*ao)+dr*(24*(go*vo+Mo*yo)-6*(mo*bo+xo*zo)),vn=6*no*ao+dr*(24*go*yo-6*mo*zo),dn=dn+dn+uo*yn,fn=fn+fn+uo*bn,ln=ln+ln+uo*zn,an=fo*_o,rn=-.5*an/fr,sn=an*fr,nn=-15*rr*sn,cn=Mo*xo+go*mo,hn=go*xo+Mo*mo,un=go*mo-Mo*xo,1===Mr&&(So=nn,Wo=rn,Yo=an,Bo=sn,Ho=cn,Jo=hn,Vo=un,No=dn,Go=fn,Ko=ln,Lo=pn,Qo=Mn,Ro=gn,Xo=xn,Zo=mn,$o=vn,tn=yn,en=bn,on=zn,jo=Co,To=qo,ko=Ao,Eo=Oo,Po=Fo*sr+Io*ar,Uo=ar*Fo-sr*Io,fo=4.7968065e-7);er=(4.7199672+.2299715*lr-pr)%i,or=(6.2565837+.017201977*lr)%i,kn=2*So*Jo,En=2*So*Vo,Yn=2*Wo*Qo,Bn=2*Wo*(Ro-Lo),Hn=-2*Yo*Go,Jn=-2*Yo*(Ko-No),Vn=-2*Yo*(-21-9*dr)*.01675,An=2*Bo*en,On=2*Bo*(on-tn),Dn=-.3015*Bo,Sn=-2*Wo*Zo,Wn=-2*Wo*($o-Xo),Cn=2*nn*hn,Tn=2*nn*un,Rn=2*rn*Mn,Xn=2*rn*(gn-pn),Zn=-2*an*fn,$n=-2*an*(ln-dn),tr=-2*an*(-21-9*dr)*.0549,Nn=2*sn*bn,Gn=2*sn*(zn-yn),Kn=-.9882*sn,Ln=-2*rn*mn,Qn=-2*rn*(vn-xn),O=Tn,D=Cn,S=qn,W=Pn,Y=Un,B=Fn,H=In,J=kn,V=En,N=An,G=On,K=Dn,L=Sn,Q=Wn,R=Yn,X=Bn,Z=Hn,$=Jn,tt=Vn,et=nn,ot=rn,nt=an,rt=sn,at=cn,st=So,it=Wo,ct=Yo,ht=Bo,ut=Ho,dt=No,ft=Ko,lt=Lo,pt=Ro,Mt=Xo,gt=$o,xt=tn,mt=on,vt=Nn,yt=Gn,bt=Kn,zt=Ln,wt=Qn,_t=Rn,jt=Xn,Tt=Zn,Ct=$n,qt=tr,Pt=dn,Ut=ln,Ft=pn,It=gn,kt=xn,Et=vn,At=yn,Ot=zn,Dt=er,St=or,Jt.e3=O,Jt.ee2=D,Jt.peo=S,Jt.pgho=W,Jt.pho=Y,Jt.pinco=B,Jt.plo=H,Jt.se2=J,Jt.se3=V,Jt.sgh2=N,Jt.sgh3=G,Jt.sgh4=K,Jt.sh2=L,Jt.sh3=Q,Jt.si2=R,Jt.si3=X,Jt.sl2=Z,Jt.sl3=$,Jt.sl4=tt,Jt.xgh2=vt,Jt.xgh3=yt,Jt.xgh4=bt,Jt.xh2=zt,Jt.xh3=wt,Jt.xi2=_t,Jt.xi3=jt,Jt.xl2=Tt,Jt.xl3=Ct,Jt.xl4=qt,Jt.zmol=Dt,Jt.zmos=St;var gr=t(Jt,{inclo:ce,init:Jt.init,ep:Jt.ecco,inclp:Jt.inclo,nodep:Jt.nodeo,argpp:Jt.argpo,mp:Jt.mo,opsmode:Jt.operationmode});Jt.ecco=gr.ep,Jt.inclo=gr.inclp,Jt.nodeo=gr.nodep,Jt.argpo=gr.argpp,Jt.mo=gr.mp;var xr,mr,vr,yr,br,zr,wr,_r,jr,Tr,Cr,qr,Pr,Ur,Fr,Ir,kr,Er,Ar,Or,Dr,Sr,Wr,Yr,Br,Hr,Jr,Vr,Nr,Gr,Kr,Lr,Qr,Rr=dr,Xr=Jt.argpo,Zr=Jt.t,$r=Jt.gsto,ta=Jt.mo,ea=Jt.mdot,oa=Jt.no,na=Jt.nodeo,ra=Jt.nodedot,aa=Jt.ecco,sa=rr,ia=ce,ca=nr,ha=Jt.irez,ua=Jt.atime,da=Jt.d2201,fa=Jt.d2211,la=Jt.d3210,pa=Jt.d3222,Ma=Jt.d4410,ga=Jt.d4422,xa=Jt.d5220,ma=Jt.d5232,va=Jt.d5421,ya=Jt.d5433,ba=Jt.dedt,za=Jt.didt,wa=Jt.dmdt,_a=Jt.dnodt,ja=Jt.domdt,Ta=Jt.del1,Ca=Jt.del2,qa=Jt.del3,Pa=Jt.xfact,Ua=Jt.xlamo,Fa=Jt.xli,Ia=Jt.xni,ha=0;.0034906585<ca<.0052359877&&(ha=1),.00826<=ca<=.00924&&.5<=sa&&(ha=2);var ka=119459e-10*st*ut,Ea=119459e-10*it*(lt+pt),Aa=-119459e-10*ct*(dt+ft-14-6*Rr),Oa=119459e-10*ht*(xt+mt-6),Da=-119459e-10*it*(Mt+gt);(.052359877>ia||ia>s-.052359877)&&(Da=0),0!==hr&&(Da/=hr);var Sa=Oa-ur*Da,ba=ka+.00015835218*et*at,za=Ea+.00015835218*ot*(Ft+It),wa=Aa-.00015835218*nt*(Pt+Ut-14-6*Rr),Wa=.00015835218*rt*(At+Ot-6),Ya=-.00015835218*ot*(kt+Et);if((.052359877>ia||ia>s-.052359877)&&(Ya=0),ja=Sa+Wa,_a=Da,0!==hr&&(ja-=ur/hr*Ya,_a+=Ya/hr),Vr=($r+0)%i,sa+=ba*Zr,ia+=za*Zr,0!==ha){if(Kr=Math.pow(ca/h,2/3),2===ha){Lr=ur*ur;var Ba=sa,sa=aa,Ha=Rr,Rr=Se;Qr=sa*Rr,Ur=-.306-.44*(sa-.64),.65>=sa?(Fr=3.616-13.247*sa+16.29*Rr,kr=117.39*sa-19.302-228.419*Rr+156.591*Qr,Er=109.7927*sa-18.9068-214.6334*Rr+146.5816*Qr,Ar=242.694*sa-41.122-471.094*Rr+313.953*Qr,Or=841.88*sa-146.407-1629.014*Rr+1083.435*Qr,Dr=3017.977*sa-532.114-5740.032*Rr+3708.276*Qr):(Fr=331.819*sa-72.099-508.738*Rr+266.724*Qr,kr=1582.851*sa-346.844-2415.925*Rr+1246.113*Qr,Er=1554.908*sa-342.585-2366.899*Rr+1215.972*Qr,Ar=4758.686*sa-1052.797-7193.992*Rr+3651.957*Qr,Or=16178.11*sa-3581.69-24462.77*Rr+12422.52*Qr,Dr=.715<sa?29936.92*sa-5149.66-54087.36*Rr+31324.56*Qr:1464.74-4664.75*sa+3763.64*Rr),.7>sa?(Yr=4988.61*sa-919.2277-9064.77*Rr+5542.21*Qr,Sr=4568.6173*sa-822.71072-8491.4146*Rr+5337.524*Qr,Wr=4690.25*sa-853.666-8624.77*Rr+5341.4*Qr):(Yr=161616.52*sa-37995.78-229838.2*Rr+109377.94*Qr,Sr=218913.95*sa-51752.104-309468.16*Rr+146349.42*Qr,Wr=170470.89*sa-40023.88-242699.48*Rr+115605.82*Qr),Br=hr*hr,xr=.75*(1+2*ur+Lr),mr=1.5*Br,yr=1.875*hr*(1-2*ur-3*Lr),br=-1.875*hr*(1+2*ur-3*Lr),wr=35*Br*xr,_r=39.375*Br*Br,jr=9.84375*hr*(Br*(1-2*ur-5*Lr)+.33333333*(4*ur-2+6*Lr)),Tr=hr*(4.92187512*Br*(-2-4*ur+10*Lr)+6.56250012*(1+2*ur-3*Lr)),Cr=29.53125*hr*(2-8*ur+Lr*(8*ur-12+10*Lr)),qr=29.53125*hr*(-2-8*ur+Lr*(12+8*ur-10*Lr)),Nr=ca*ca,Gr=Kr*Kr,Jr=3*Nr*Gr,Hr=17891679e-13*Jr,da=Hr*xr*Ur,fa=Hr*mr*Fr,Jr*=Kr,Hr=3.7393792e-7*Jr,la=Hr*yr*kr,pa=Hr*br*Er,Jr*=Kr,Hr=1.47273906e-8*Jr,Ma=Hr*wr*Ar,ga=Hr*_r*Or,Jr*=Kr,Hr=1.1428639e-7*Jr,xa=Hr*jr*Dr,ma=Hr*Tr*Wr,Hr=4.3531606e-9*Jr,va=Hr*Cr*Sr,ya=Hr*qr*Yr,Ua=(ta+na+na-Vr-Vr)%i,Pa=ea+wa+2*(ra+_a-.0043752690880113)-oa,sa=Ba,Rr=Ha}1===ha&&(Pr=1+Rr*(.8125*Rr-2.5),kr=1+2*Rr,Ir=1+Rr*(6.60937*Rr-6),xr=.75*(1+ur)*(1+ur),vr=.9375*hr*hr*(1+3*ur)-.75*(1+ur),zr=1+ur,zr*=1.875*zr*zr,Ta=3*ca*ca*Kr*Kr,Ca=2*Ta*xr*Pr*17891679e-13,qa=3*Ta*zr*Ir*2.2123015e-7*Kr,Ta=Ta*vr*kr*21460748e-13*Kr,Ua=(ta+na+Xr-Vr)%i,Pa=ea+ve-.0043752690880113+wa+ja+_a-oa),Fa=Ua,Ia=oa,ua=0,ca=oa+0}f=ha,l=ua,p=da,M=fa,g=la,x=pa,m=Ma,v=ga,y=xa,b=ma,z=va,w=ya,_=ba,j=za,T=wa,C=_a,q=ja,P=Ta,U=Ca,F=qa,I=Pa,k=Ua,E=Fa,A=Ia,Jt.irez=f,Jt.atime=l,Jt.d2201=p,Jt.d2211=M,Jt.d3210=g,Jt.d3222=x,Jt.d4410=m,Jt.d4422=v,Jt.d5220=y,Jt.d5232=b,Jt.d5421=z,Jt.d5433=w,Jt.dedt=_,Jt.didt=j,Jt.dmdt=T,Jt.dnodt=C,Jt.domdt=q,Jt.del1=P,Jt.del2=U,Jt.del3=F,Jt.xfact=I,Jt.xlamo=k,Jt.xli=E,Jt.xni=A}1!==Jt.isimp&&(te=Jt.cc1*Jt.cc1,Jt.d2=4*Ve*me*te,pe=Jt.d2*me*Jt.cc1/3,Jt.d3=(17*Ve+le)*pe,Jt.d4=.5*pe*Ve*me*(221*Ve+31*le)*Jt.cc1,Jt.t3cof=Jt.d2+2*te,Jt.t4cof=.25*(3*Jt.d3+Jt.cc1*(12*Jt.d2+10*te)),Jt.t5cof=.2*(3*Jt.d4+12*Jt.cc1*Jt.d3+6*Jt.d2*Jt.d2+15*te*(2*Jt.d2+te)))}return n(Jt,0),Jt.init="n",Jt},a.propagate=function(t,e,r,a,s,i,c){return e=1440*(o(e,r,a,s,i,c)-t.jdsatepoch),n(t,e)},a.sgp4=function(t,e){return n(t,e)},a.eci_to_geodetic=function(t,e){for(var o,n=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)-e,a=0,s=Math.atan2(t.z,Math.sqrt(t.x*t.x+t.y*t.y));20>a;)o=1/Math.sqrt(1-.006694380004260718*Math.sin(s)*Math.sin(s)),s=Math.atan2(t.z+42.69767279723544*o*Math.sin(s),n),a+=1;return n=n/Math.cos(s)-6378.137*o,{longitude:r,latitude:s,height:n}},a.ecf_to_look_angles=function(t,e){var o,n=t.longitude,a=t.latitude,i=r(t);o=e.x-i.x;var c=e.y-i.y,h=e.z-i.z,i=Math.sin(a)*Math.cos(n)*o+Math.sin(a)*Math.sin(n)*c-Math.cos(a)*h,u=-Math.sin(n)*o+Math.cos(n)*c,n=Math.cos(a)*Math.cos(n)*o+Math.cos(a)*Math.sin(n)*c+Math.sin(a)*h;return o={top_s:i,top_e:u,top_z:n},n=o.top_s,a=o.top_e,c=o.top_z,o=Math.sqrt(n*n+a*a+c*c),c=Math.asin(c/o),{azimuth:Math.atan2(-a,n)+s,elevation:c,range_sat:o}},a.geodetic_to_ecf=function(t){return r(t)},a.ecf_to_eci=function(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e),z:t.z}},a.eci_to_ecf=function(t,e){return{x:t.x*Math.cos(e)+t.y*Math.sin(e),y:t.x*-Math.sin(e)+t.y*Math.cos(e),z:t.z}},a.degrees_lat=function(t){return t=t>s/2||t<-s/2?"Err":t/s*180},a.degrees_long=function(t){return t=t/s*180%360,180<t?t=360-t:-180>t&&(t=360+t),t},a.doppler_factor=function(t,e,o){var n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2));return e={x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},t=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))-n,1+(t*=0<=t?1:-1)/299792.458},a}(),a=[];return t(n)})}();